{"version":3,"sources":["webpack:///./src/app/app.component.css","webpack:///./src/app/buses/buses.component.css","webpack:///./src/app/map/map.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/buses/buses.component.html","webpack:///./src/app/map/map.component.html","webpack:///./src/app/shared/map.service.ts","webpack:///./src/app/shared/config.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/buses/buses.component.ts","webpack:///./src/app/map/map.component.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html {\\r\\n    background: lightslategrey\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 139\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"app-buses {\\r\\n    width:900px;\\r\\n}\\r\\n\\r\\nul {\\r\\n    margin: 0 auto;\\r\\n    padding-left: 0px;\\r\\n}\\r\\nli {\\r\\n    display: inline-block;\\r\\n    margin-right:15px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.routes {\\r\\n  width: 60px;\\r\\n  text-align: center;\\r\\n  height: 20px;\\r\\n  margin: 5px;\\r\\n  border: 1px solid rgba(0, 0, 0, .2);\\r\\n  background: lightgray;\\r\\n}\\r\\n\\r\\n.blue {\\r\\n  background: #13b4ff;\\r\\n}\\r\\n\\r\\n.purple {\\r\\n  background: #ab3fdd;\\r\\n}\\r\\n\\r\\n.wine {\\r\\n  background: #ae163e;\\r\\n}\\r\\n.btn-custom {\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    color: white;\\r\\n    line-height: 30px;\\r\\n    margin: 5px;\\r\\n    border: 1px solid rgba(0, 0, 0, .2);\\r\\n    background: lightgray;\\r\\n    color: black;\\r\\n}\\r\\n.wrapper2 {\\r\\n    \\r\\n\\r\\n}\\r\\n.header {\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\nsvg title {display: none;}\\r\\nsvg g:hover title {display: block;}\\r\\n\\r\\n.container {\\r\\n    width: 250px;\\r\\n    float: left;\\r\\n    margin-right: 50px;\\r\\n}\\r\\n.panel-heading {\\r\\n    background: darkslategray;\\r\\n    color:white;\\r\\n}\\r\\n#collapse3 .panel-body {\\r\\n    padding:0;\\r\\n}\\r\\n#collapse3 a {\\r\\n    float: left;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    color: white;\\r\\n    width: 100%;\\r\\n    line-height: 30px;\\r\\n    margin: 3px;\\r\\n    border: 1px solid rgba(0, 0, 0, .2);\\r\\n    background: lightgray;\\r\\n    color: black;\\r\\n}\\r\\n.active {\\r\\n    background: darkslategray;\\r\\n    color:white;\\r\\n}\\r\\nh1 {\\r\\n    background: darkslategray;\\r\\n    color:white;\\r\\n    text-align: center;\\r\\n    padding: 30px 0px;\\r\\n}\\r\\n\\r\\n.buses {\\r\\n        text-align: center;\\r\\n    color: indianred;\\r\\n    font-size: 30px;\\r\\n\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/buses/buses.component.css\n// module id = 140\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"h1 {\\r\\n    background: darkslategray;\\r\\n    color:white;\\r\\n    text-align: center;\\r\\n    padding: 30px 0px;\\r\\n}\\r\\n.wrapper {\\r\\n    /*text-align: center;*/\\r\\n}\\r\\n.menu {\\r\\n    width: 200px;\\r\\n    height: 100px;\\r\\n}\\r\\nspan.sf-map {\\r\\n    max-width: 100%;\\r\\n    height: 900px;\\r\\n    background: white;\\r\\n\\r\\n}\\r\\npath {\\r\\n    fill:green;\\r\\n\\r\\n}\\r\\n.map2 {\\r\\n    background-color: red;\\r\\n}\\r\\nsvg {\\r\\n        margin-top: 60px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.css\n// module id = 141\n// module chunks = 1","module.exports = \"<h1>\\n\\n</h1>\\n\\n<app-map #map></app-map>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 142\n// module chunks = 1","module.exports = \"<h1>\\n  San Francisco Muni Transportation\\n</h1>\\n\\n<div *ngIf=\\\"!buses\\\" class=\\\"buses\\\">\\n  \\n  The buses will appear in a second...\\n  <img src=\\\"./../assets/gears.gif\\\"/>\\n  </div>\\n\\n<div class=\\\"container\\\">\\n  <h2>Menu</h2>\\n  <div class=\\\"panel-group\\\" id=\\\"accordion\\\">\\n    <div class=\\\"panel panel-default\\\">\\n      <div class=\\\"panel-heading\\\">\\n        <h4 class=\\\"panel-title\\\">\\n          <a data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapse1\\\">Reset</a>\\n        </h4>\\n      </div>\\n      <div id=\\\"collapse1\\\" class=\\\"panel-collapse collapse in\\\">\\n\\n        <div class=\\\"btn-custom\\\" (click)=\\\"reset()\\\"> See All Buses</div>\\n      </div>\\n      <div class=\\\"panel panel-default\\\">\\n        <div class=\\\"panel-heading\\\">\\n          <h4 class=\\\"panel-title\\\">\\n            <a data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapse2\\\">See the routes</a>\\n          </h4>\\n        </div>\\n        <div id=\\\"collapse2\\\" class=\\\"panel-collapse collapse\\\">\\n          <ul>\\n\\n            <li *ngFor=\\\"let tag of tags; let i = index\\\" class=\\\"routes\\\" [class.active]='this.activeRoutes.get(tag)' (click)=\\\"changeView(tag)\\\">{{ tag }}</li>\\n          </ul>\\n        </div>\\n        <div class=\\\"panel panel-default\\\">\\n          <div class=\\\"panel-heading\\\">\\n            <h4 class=\\\"panel-title\\\">\\n              <a data-toggle=\\\"collapse\\\" data-parent=\\\"#accordion\\\" href=\\\"#collapse3\\\">About Lilia</a>\\n            </h4>\\n          </div>\\n          <div id=\\\"collapse3\\\" class=\\\"panel-collapse collapse\\\">\\n            <a href=\\\"https://github.com/lilia-simeonova\\\">GitHub</a>\\n            <a href=\\\"http://thelillysblog.com\\\">Blog</a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/buses/buses.component.html\n// module id = 143\n// module chunks = 1","module.exports = \"<div class=\\\"wrapper\\\">\\n\\n  \\n\\n  <span #map class=\\\"sf-map\\\">\\n\\n    <img *ngIf=\\\"!scale\\\" src=\\\"./../assets/default.gif\\\" width=\\\"300\\\" height=\\\"300\\\"/>\\n\\n    <app-buses *ngIf=\\\"scale\\\" [scale]=\\\"scale\\\">\\n\\n\\n    </app-buses>\\n\\n  </span>\\n\\n\\n\\n  <div>\\n   \\n  </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.html\n// module id = 144\n// module chunks = 1","import { Injectable, Inject, OnInit } from '@angular/core';\r\nimport { Http, Headers, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { ConfigToken, Config } from './config.service';\r\n\r\n@Injectable()\r\nexport class MapService {\r\n\r\n  constructor(private http: Http, @Inject(ConfigToken) private config: Config) { }\r\n\r\n  getStreets(): Observable<Response> {\r\n    return  this.http.get('./../assets/streets.json')\r\n      .map((res: Response) => res);\r\n  }\r\n\r\n  getOneRoute(route, n) {\r\n    const url = this.config.RouteConfig(route, n);\r\n    return this.http.get(url)\r\n      .map((result: Response) => result.json());\r\n  }\r\n\r\n  getAllRoutes(tags) {\r\n    console.log(tags)\r\n    const n = new Date().getTime() - 1000 * 10;\r\n    return Promise.all(\r\n      tags.map(tag => {\r\n        return new Promise((resolve, reject) => {\r\n          this.getOneRoute(tag, n).subscribe(result => {\r\n            if (result.error) {\r\n              reject(result.error);\r\n              console.log(result.error);\r\n            } else {\r\n             // console.log(result)\r\n              resolve({tag, result});\r\n            }\r\n          });\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getRoutes(): Observable<Response> {\r\n    return this.http.get(this.config.RoutesUrl)\r\n      .map((res: Response) => res.json());\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/map.service.ts","import {InjectionToken} from '@angular/core';\r\n\r\nexport interface Config {\r\n  StreetsConfigUrl: string;\r\n  RoutesUrl: string;\r\n  RouteConfig(route: string, time: number): string;\r\n}\r\n\r\nexport const DevConfig: Config = {\r\n  StreetsConfigUrl: 'https://sf-map-169207.appspot.com/load',\r\n  RoutesUrl: 'http://webservices.nextbus.com/service/publicJSONFeed?command=routeConfig&a=sf-muni',\r\n  RouteConfig(route: string, time: number): string {\r\n    return 'http://webservices.nextbus.com/service/publicJSONFeed?command=vehicleLocations&a=sf-muni&r=' + route + '&t=' + time;\r\n  }\r\n};\r\n\r\nexport const ConfigToken = new InjectionToken<Config>('AppConfig');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/config.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 74;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 74\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n // title = 'app works!';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { MapService } from './shared/map.service';\r\nimport { ConfigToken, DevConfig } from './shared/config.service';\r\nimport { AppComponent } from './app.component';\r\nimport { MapComponent } from './map/map.component';\r\nimport { BusesComponent } from './buses/buses.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MapComponent,\r\n    BusesComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule\r\n  ],\r\n  providers: [MapService, { provide: ConfigToken, useValue: DevConfig }],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnChanges, Input, OnInit } from '@angular/core';\r\nimport { Http, JsonpModule, Headers, Response, RequestOptions } from '@angular/http';\r\nimport * as d3 from 'd3';\r\nimport * as geo from 'd3-geo';\r\nimport * as zoom from 'd3-zoom';\r\nimport { MapComponent } from './../map/map.component';\r\nimport { MapService } from './../shared/map.service';\r\n\r\nconst IntervalDuration = 15000;\r\n\r\n@Component({\r\n  selector: 'app-buses',\r\n  templateUrl: './buses.component.html',\r\n  styleUrls: ['./buses.component.css']\r\n})\r\nexport class BusesComponent implements OnInit {\r\n  @Input() scale;\r\n  projection;\r\n  result;\r\n  center;\r\n  routes;\r\n  tags = [];\r\n  restrictedTags = [];\r\n  buses;\r\n  view;\r\n  hash = new Map();\r\n  activeRoutes = new Map();\r\n  constructor(private map: MapService) { }\r\n\r\n  ngOnInit() {\r\n    this.view = 'default';\r\n    this.fetchBuses();\r\n  }\r\n\r\n  changeView(id) {\r\n    console.log('I trigerred change', id);\r\n    this.restrictedTags.push(id);\r\n    var svg = d3.select('svg').select('svg').select('g');\r\n    svg.selectAll('image').remove();\r\n    this.view = 'none';\r\n    this.hash = new Map();\r\n    this.activeRoutes.set(id, 'active');\r\n    this.fetchBuses();\r\n  }\r\n\r\n  reset() {\r\n\r\n    let svg = d3.select('svg').select('svg').select('g');\r\n    svg.selectAll('image').remove();\r\n    this.view = 'default';\r\n    this.activeRoutes = new Map();\r\n    this.hash = new Map();\r\n    this.fetchBuses();\r\n  }\r\n\r\n  fetchBuses() {\r\n    this.map.getStreets()\r\n      .subscribe((res: Response) => {\r\n        this.result =  res['_body'];\r\n        this.result = JSON.parse(this.result);\r\n        this.center = d3.geoCentroid(this.result);\r\n\r\n        const getData = () => {\r\n\r\n          this.map.getRoutes()\r\n            .subscribe(res => {\r\n              this.routes = res;\r\n              let restriction;\r\n              if (this.view === 'default') {\r\n                restriction = this.tags;\r\n                if (!this.tags.length) {\r\n                  this.routes.route.map(tag => this.tags.push(tag.tag));\r\n                }\r\n              } else if (this.view === 'none') {\r\n                restriction = this.restrictedTags;\r\n              }\r\n\r\n              this.map.getAllRoutes(restriction)\r\n                .then(this.renderRoute.bind(this));\r\n            });\r\n        };\r\n        getData();\r\n        setInterval(getData, IntervalDuration);\r\n      });\r\n  }\r\n\r\n  private renderRoute(route) {\r\n\r\n    let tag: string;\r\n    const projection = d3.geoMercator().center(this.center)\r\n      .scale(this.scale);\r\n    const g = d3.select('g');\r\n    for (let i = 0; i < route.length; i++) {\r\n      tag = route[i]['tag']\r\n      this.buses = route[i]['result'];\r\n\r\n      const arr = this.buses.vehicle || [];\r\n\r\n      for (let i = 0; i < arr.length; i++) {\r\n        const cx = projection([arr[i].lon, arr[i].lat])[0];\r\n        const cy = projection([arr[i].lon, arr[i].lat])[1];\r\n          let width = 50;\r\n          let height = 50;\r\n        if (this.hash.get(arr[i]['id']) === undefined) {\r\n\r\n          this.hash.set(arr[i]['id'], { coordinates: [arr[i].lon, arr[i].lat] })\r\n\r\n          let img = g.append('image')\r\n          .data([cx,cy])\r\n          .attr('width', width)\r\n          .attr('height', height)\r\n          .attr('x', cx)\r\n          .attr('y', cy)\r\n          .attr('id', 'a' + arr[i]['id'])\r\n          .attr('xlink:href', './../assets/bus-side-view (1).svg')\r\n          .append('title').text('Bus #' + arr[i]['id'] + ' Route #' + tag)\r\n\r\n\r\n        } else {\r\n          d3.select('#a' + arr[i]['id'])\r\n            .data([cx, cy])\r\n            .transition()\r\n            .attr('width', width)\r\n            .attr('height', height)\r\n            .attr('x', cx)\r\n            .attr('y', cy);\r\n\r\n          this.hash.set(arr[i]['id'], { coordinates: [arr[i].lon, arr[i].lat] });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/buses/buses.component.ts","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, JsonpModule, Headers, Response, RequestOptions } from '@angular/http';\r\nimport { BusesComponent } from './../buses//buses.component';\r\nimport { MapService } from './../shared/map.service';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/map';\r\nimport * as d3 from 'd3';\r\nimport * as geo from 'd3-geo';\r\nimport * as zoom from 'd3-zoom';\r\n\r\nconst Width = 1200;\r\nconst Height = 600;\r\n\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.css']\r\n})\r\n\r\n@Injectable()\r\nexport class MapComponent implements OnInit {\r\n\r\n  center: any;\r\n  scale;\r\n\r\n  constructor (private map: MapService) {}\r\n\r\n  // projection$ = this.http.get(this.url)\r\n  //   .map((res: Response) => res.json())\r\n  //   .map((res => d3.geoCentroid(res.result)));\r\n\r\n  ngOnInit() {\r\n    this.map.getStreets()\r\n      .subscribe((res: any) => {\r\n        res = res['_body'];\r\n        res = JSON.parse(res)\r\n        this.renderMap(res);\r\n      });\r\n  }\r\n\r\n  // Intentionally public in order to be testable\r\n  getScale(bounds: any) {\r\n    let scale = 170;\r\n    const hscale  = scale * Width  / (bounds[1][0] - bounds[0][0]);\r\n    const vscale  = scale * Height / (bounds[1][1] - bounds[0][1]);\r\n    return (hscale < vscale) ? hscale : vscale;\r\n  }\r\n\r\n  private renderMap(map: any) {\r\n    this.center = d3.geoCentroid(map);\r\n    let path = d3.geoPath().projection(undefined);\r\n    const bounds  = path.bounds(map);\r\n    this.scale = this.getScale(bounds);\r\n    const projection = d3.geoMercator().center(this.center)\r\n      .scale(this.scale);\r\n    path = path.projection(projection);\r\n\r\n   const svg = d3.select('span.sf-map').append('svg')\r\n      .attr('width', Width)\r\n      .attr('height', Height)\r\n      .style('fill', 'white')\r\n      .style('margin-top', '50px')\r\n\r\n    const svg2 = svg.append('svg')\r\n      .style('stroke-width', '1.5px')\r\n      .attr('class', 'map2')\r\n      .attr('width', Width)\r\n      .attr('height', Height)\r\n      .append('g');\r\n\r\n     const g = svg2.append('g')\r\n      .style('stroke-width', '1.5px')\r\n      .attr('class', 'map2');\r\n\r\n    g.selectAll('path')\r\n        .data(map.features)\r\n      .enter().append('path')\r\n        .attr('d', path)\r\n        .attr('stroke', 'black')\r\n\r\n      const zoom = d3.zoom()\r\n        .on('zoom', () => {\r\n          svg2.attr('transform', d3.event.transform);\r\n        });\r\n\r\n    svg.call(zoom)\r\n        .call(zoom.transform, d3.zoomIdentity);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}